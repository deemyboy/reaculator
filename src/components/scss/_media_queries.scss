// A map of breakpoints.
$breakpoints: (
  xs: 576px,
  sm: 767px,
  md: 992px,
  lg: 1200px,
);

@mixin respond-above($bp) {
  @if map-has-key($breakpoints, $bp) {
    $bp-val: map-get($breakpoints, $bp);

    @media (min-width: $bp-val) {
      @content;
    }
  } @else {
    // Log a warning.
    @warn 'Invalid breakpoint: #{$bp}.';
  }
}

/*  usage 
@include respond-above(xs) {
  styles here
}
*/
@mixin respond-below($bp) {
  @if map-has-key($breakpoints, $bp) {
    $bp-val: map-get($breakpoints, $bp);

    @media (max-width: $bp-val) {
      @content;
    }
  } @else {
    // Log a warning.
    @warn 'Invalid breakpoint: #{$bp}.';
  }
}

@mixin respond-between($lower, $upper) {
  // If both the lower and upper breakpoints exist in the map.
  @if map-has-key($breakpoints, $lower) and map-has-key($breakpoints, $upper) {
    // Get the lower and upper breakpoints.
    $lower-breakpoint: map-get($breakpoints, $lower);
    $upper-breakpoint: map-get($breakpoints, $upper);

    // Write the media query.
    @media (min-width: $lower-breakpoint) and (max-width: ($upper-breakpoint - 1)) {
      @content;
    }

    // If one or both of the breakpoints don't exist.
  } @else {
    // If lower breakpoint is invalid.
    @if (map-has-key($breakpoints, $lower) == false) {
      // Log a warning.
      @warn 'Your lower breakpoint was invalid: #{$lower}.';
    }

    // If upper breakpoint is invalid.
    @if (map-has-key($breakpoints, $upper) == false) {
      // Log a warning.
      @warn 'Your upper breakpoint was invalid: #{$upper}.';
    }
  }
}

@mixin orientation($direction) {
  $orientation-landscape: "(orientation:landscape)";
  $orientation-portrait: "(orientation:portrait)";

  @if $direction == landscape {
    @media #{$orientation-landscape} {
      @content;
    }
  }
  @if $direction == portrait {
    @media #{$orientation-portrait} {
      @content;
    }
  }
}

///////////// ///////////// /////////////
/////////// basic structure  ////////////
///////////// ///////////// /////////////
/////// open

@include respond-below(xs) {
  #{$outer-wrapper} {
    & {
    }
    //sizes here
    // closed
    .calculator {
    }
    .settings {
    }
    .sidebar {
    }
    &#{$open} {
      .calculator {
      }
      .settings {
      }
      .sidebar {
      }
    }
  }
  // colors here
  @include themify($themes) {
    // closed
    .calculator {
    }
    .settings {
    }
    .sidebar {
    }
    &#{$open} {
      .calculator {
      }
      .settings {
      }
      .sidebar {
      }
    }
  }
}

///////////// ///////////// /////////////
/////////// portrait section ////////////
///////////// ///////////// /////////////

///////////// portrait
/////// xs

@include respond-below(xs) {
  #calculator {
    margin: 0 -12px;
    max-width: 320px;
    > .container {
      max-width: 320px;
    }
  }
  #{$outer-wrapper} {
    & {
    }
    // sizes here
    // closed
    .calculator {
      width: 100%;
      border: none;
      border-radius: 5px;
      // position: fixed;
      top: 0px;
      right: 0px;
      bottom: 0px;
      left: 0px;
      .keyboard button {
        margin: 5px;
        height: 40px;
        width: 40px;
        font-size: 1rem;
      }
    }
    .settings {
      height: 2rem;
      width: 2rem;
      position: absolute;
      top: 3%;
      left: 84%;
    }
    .sidebar {
      width: 50%;
      .keyboard {
        position: relative;
        left: 15%;
        button {
          transform: scale(1);
          max-width: 60px;
        }
      }
    }
    &#{$open} {
      .calculator {
      }
      .sidebar {
        transform: translateX(-12px);
      }
    }
    // colors here
    @include themify($themes) {
    }
  }
  #{$outer-wrapper} {
    .sidebar {
      .keyboard-wrapper {
        .circle {
          height: 1.4rem;
          width: 1.4rem;
          left: calc(60% - 1rem);
          &:hover {
            transform: scale(1.5);
            + .keyboard {
              transform: rotate(0deg);
              .btn {
                transform: rotate(0deg), scale(2);
                opacity: 1;
              }
            }
          }
          &:after {
            height: 2rem;
            width: 2rem;
            top: -0.3rem;
            left: -0.3rem;
          }
        }
        .circle-1 {
          &:hover {
            + .keyboard {
              .btn {
                &:first-of-type {
                  left: 15%;
                  top: 25%;
                }
                &:nth-of-type(2) {
                  left: 15%;
                  top: 65%;
                }
                // @for $i from 10 through 1 {
                //   &:nth-of-type(#{$i}) {
                //     top: calc(#{$i} * 40px);
                //   }
                // }
              }
            }
          }
        }

        .circle-2 {
          &:hover {
            // transform: scale(1.5);
            + .keyboard {
              // transform: rotate(0deg);
              .btn {
                &:first-of-type {
                  left: 18%;
                  top: 10%;
                }
                // &:nth-of-type(2) {
                //   left: -5%;
                //   top: 27%;
                // }
                // &:nth-of-type(3) {
                //   left: -13%;
                //   top: 44%;
                // }
                // &:nth-of-type(4) {
                //   left: -5%;
                //   top: 61%;
                // }
                &:nth-of-type(5) {
                  left: 18%;
                  top: 78%;
                }
                // @for $i from 10 through 1 {
                //   &:nth-of-type(#{$i}) {
                //     top: calc(#{$i} * 40px);
                //   }
                // }
              }
            }
          }
        }
      }
    }
  }
}

///////////// portrait
/////// sm - md

@include respond-between(sm, md) {
  #calculator {
    .container {
      max-width: none;
    }
  }
  #{$outer-wrapper} {
    & {
      max-width: 850px;
      margin-top: 0;
    }
    // sizes here
    .calculator {
      // width: 100%;
      // position: fixed;
      // top: 0px;
      // right: 0px;
      // bottom: 0px;
      // left: 0px;
      // max-width: 850px;
      .display {
        .calculation {
          font-size: 3.3em;
        }
        .result,
        .result_err {
          font-size: 5em;
        }
        p {
          margin: 0;
        }
      }
      > .title {
        font-size: 4rem;
        line-height: 2rem;
        margin-top: 20px;
      }
      .menu-icon {
        height: 3.2rem;
        width: 3.2rem;
        top: -36px;
        border-width: 3px;
        .icon-bar {
          height: 6px;
        }
      }
      .keyboard {
        border-radius: 1rem;
        justify-content: space-evenly;
        &.keyboard-function {
          border-bottom: none;
          border-radius: 1rem 1rem 0px 0px$i;
        }

        &.keyboard-utility {
          border-top: none;
          border-radius: 0px 0px 1rem 1rem$i;
        }

        .title {
          display: none;
        }
        button {
          height: 45px;
          width: 45px;
          transform: scale(1.7);
          margin: 36px;
        }
      }

      // colors here
      @include themify($themes) {
      }
    }
    .sidebar {
      // position: absolute;
      // right: 0;
      // top: 0;
      // width: auto;
      // transform: scaleX(0);
      // display: flex;
      // height: 100%;
      // justify-content: space-around;
      // flex-direction: column;
      > .title {
        font-size: 3rem;
        margin-top: -1.5rem;
      }
      .keyboard {
        display: flex;
        flex-direction: column;
        align-content: center;
        button {
          display: block$i;
          height: auto;
          // width: auto;
          padding: 0;
        }
      }
      .keyboard-theme-type {
        .btn-theme-type {
          transform: scale(2);
          // margin: 50px 0px;
        }
      }
      .keyboard-theme {
        .btn-theme {
          // margin: 30px 0px;
          transform: scale(1.2);
          // height: 30px !important;
          // transform: scale(2);
          // margin: 10px 0;
        }
      }
    }
    .sidebar {
      .keyboard-wrapper {
        .circle {
          &:hover {
            transform: scale(1.5);
            + .keyboard {
              transform: rotate(0deg);
              .btn {
                transform: rotate(0deg), scale(2);
                opacity: 1;
              }
            }
          }
        }
        .circle-1 {
          &:hover {
            + .keyboard {
              .btn {
                &:first-of-type {
                  left: 15%;
                  top: 25%;
                }
                &:nth-of-type(2) {
                  left: 15%;
                  top: 65%;
                }
                // @for $i from 10 through 1 {
                //   &:nth-of-type(#{$i}) {
                //     top: calc(#{$i} * 40px);
                //   }
                // }
              }
            }
          }
        }

        .circle-2 {
          &:hover {
            // transform: scale(1.5);
            + .keyboard {
              // transform: rotate(0deg);
              .btn {
                transform: scale(1.2);
                opacity: 1;
                &:first-of-type {
                  left: 18%;
                  top: 10%;
                }
                // &:nth-of-type(2) {
                //   left: -5%;
                //   top: 27%;
                // }
                // &:nth-of-type(3) {
                //   left: -13%;
                //   top: 44%;
                // }
                // &:nth-of-type(4) {
                //   left: -5%;
                //   top: 61%;
                // }
                &:nth-of-type(5) {
                  left: 18%;
                  top: 78%;
                }
                // @for $i from 10 through 1 {
                //   &:nth-of-type(#{$i}) {
                //     top: calc(#{$i} * 40px);
                //   }
                // }
              }
            }
          }
        }
      }
    }
  }
}

///////////// portrait
/////// sm - md
/////// open

@include respond-between(sm, md) {
  #{$outer-wrapper} {
    &#{$open} {
      //sizes here
      .calculator {
        // position: fixed;
        // top: 0;
        // right: 0;
        // bottom: 0;
        // left: 0;
        .menu-icon {
          transform: translate(-400%, 0%);
          // .icon-bar:nth-of-type(2) {
          //   opacity: 0;
          // }

          // .icon-bar:nth-of-type(1) {
          //   transform-origin: center;
          //   transform: translate(0%, 180%) rotate(45deg) scale(1.3);
          // }

          // .icon-bar:nth-of-type(3) {
          //   transform-origin: center;
          //   transform: translate(0%, -180%) rotate(-45deg) scale(1.3);
          // }
        }
      }
      .sidebar {
        // border: 1px solid;
        // padding-bottom: 15px;
        border-radius: 0.25rem;
        width: 30%;
        // position: fixed;
        right: 0;
        // transform: scaleX(0);
        transform-origin: right;
        transition: 0.25s all;
        // z-index: -1;
        height: 100%;
        top: 0;
      }
      // colors here
      @include themify($themes) {
      }
    }
  }
}

///////////// ///////////// /////////////
/////////// landscape section ///////////
///////////// ///////////// /////////////

///////////// landscape
/////// xs
@include respond-below(xs) {
  @include orientation(landscape) {
    #{$outer-wrapper} {
      & {
        width: 100%;
        margin-top: $s-05r$i;
        padding-left: $s-1r$i;
        padding-right: $s-1r$i;
      }
      //sizes here
      .calculator {
      }
      // colors here
      @include themify($themes) {
      }
    }
  }
}

///////////// landscape
/////// xs
/////// open
@include respond-below(xs) {
  @include orientation(landscape) {
    #{$outer-wrapper} {
      &#{$open} {
        //sizes here
        .calculator {
        }
        // colors here
        @include themify($themes) {
        }
      }
    }
  }
}

///////////// landscape
/////// sm
@include respond-below(sm) {
  @include orientation(landscape) {
    #{$outer-wrapper} {
      & {
        width: 100%;
        margin-top: 0;
        padding-left: $s-1r$i;
        padding-right: $s-1r$i;
      }
      .calculator {
        margin-top: 0;
        max-width: none;
        width: 100%;
        max-width: none;
        position: fixed;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
        border-radius: 0;
        .title {
          font-size: 2.7rem;
          line-height: 1.4rem;
          font-weight: 100;
          margin-top: 7px;
        }
        .menu-icon {
          left: 95%;
          top: -23px;
        }
        .body {
          max-width: none;
          .keyboard {
            button {
              margin: 5px;
            }
          }
        }
      }
      .sidebar {
        position: absolute;
        border-radius: 0;
        transform: scaleX(0);
        transform-origin: right;
        right: 0;
        height: 100%;
        width: 200px;
        .keyboard {
          .title {
            // font-size: 1rem;
            padding: 4px 0;
            border-radius: 6px;
            margin: 5px;
            width: 100%;
          }
          &.keyboard-theme-type {
            margin-bottom: 20px;
            .btn-theme-type {
              transform: scaleX(1);
              margin: 5px;
            }
          }
          &.keyboard-theme {
            .btn-theme {
              transform: scaleX(1);
              height: 30px !important;
              transform: scale(1.05);
              margin: 5px 20px;
              width: 40%;
            }
          }
        }
      }
    }
  }
}

///////////// landscape
/////// sm
/////// open
@include respond-below(sm) {
  @include orientation(landscape) {
    #{$outer-wrapper} {
      &#{$open} {
        //sizes here
        .calculator {
          .menu-icon {
            transform: translate(-600%, 0%) scale(1.05);
          }
        }
        .sidebar {
          transform: scaleX(1);
        }
      }
    }
  }
}
